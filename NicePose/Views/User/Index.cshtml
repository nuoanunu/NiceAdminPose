@using NicePose.Models
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<div class="card">
    <div class="card-header">
        User list
    </div>
    <div class="card-body no-padding">
        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper form-inline no-footer">
            <div class="top">
                <div id="DataTables_Table_0_filter" class="dataTables_filter">
                    <label><input type="search" class="form-control input-sm" placeholder="Search ..." aria-controls="DataTables_Table_0"></label>
                </div><div class="dataTables_length" id="DataTables_Table_0_length">
                    <label>
                        <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="form-control input-sm">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </label>
                </div><div class="clear"></div>
            </div>
            <table datatable="" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="datatable table table-striped primary ng-isolate-scope dataTable no-footer" cellspacing="0" width="100%" style="width: 100%;" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info">

                <thead>
                    <tr>
                        <th>
                            User name
                        </th>
                        <th>
                            Date Joined
                        </th>
                        <th>
                            Picture Uploaded
                        </th>
                        <th>
                            Total Score
                        </th>
                        <th>
                            Detail
                        </th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (NiceposeUser user in (List<NiceposeUser>)ViewData["UserList"])
                    {
                        <tr>
                            <td>
                                @user.name
                            </td>
                            <td>
                                @user.createDate.ToShortDateString()
                            </td>
                            <td>
                                @user.UserPictures.Count()
                            </td>
                            <td>
                                @user.UserPictures.Sum(u => u.Point)
                            </td>
                            <td>
                                <a href="/User/Detail?id=@(user.id)">View detail</a>
                            </td>

                        </tr>
                    }
                    

                </tbody>
            </table><div class="bottom">
            </div>
        </div>
    </div>
</div>